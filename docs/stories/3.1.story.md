# Story 3.1: Popup Result Display

Status: Done

## Story
**As a** user,
**I want** to see command results in a popup window,
**so that** I can review output without leaving my current editing context.

## Acceptance Criteria
1. Plugin displays command results in a floating popup window
2. Popup shows stdout, stderr, exit code, and execution duration
3. Popup can be dismissed with Escape key or by moving cursor
4. Large outputs are truncated with option to view full results
5. Popup positioning avoids obscuring current cursor location
6. Popup styling integrates with user's colorscheme

## Tasks / Subtasks
- [x] Implement floating window display API in `feedback.lua`
- [x] Show stdout/stderr/exit/duration; truncate long output and link artifacts
- [x] Dismissal behavior on `<Esc>` and cursor move
- [x] Style with default highlights; respect colorscheme

## Dev Notes
- Popup requirements in "8. UI & UX Integration â€“ Popups" and artifact handling in "7. Results Persistence". [Source: architecture.md#8.-UI-&-UX-Integration] [Source: architecture.md#7.-Results-Persistence]

### Testing
- Integration: Popup content accuracy, truncation, dismissal UX. [Source: architecture.md#13.-Testing-Strategy]

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-08-08 | 0.1 | Initial draft | PO Agent |
| 2025-08-08 | 0.2 | Implemented popup result display with truncation and artifact hints | dev.mdc |
