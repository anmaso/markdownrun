# Story 1.1: Plugin Foundation Setup

Status: Ready for Review

## Story
**As a** developer,
**I want** a properly structured Neovim plugin with standard configuration,
**so that** I can install and load the plugin in my Neovim environment.

## Acceptance Criteria
1. Plugin follows standard Neovim plugin directory structure (lua/, plugin/, doc/)
2. Plugin can be installed via popular package managers (LazyVim, Packer, etc.)
3. Plugin loads without errors in Neovim
4. Basic plugin commands are registered and accessible
5. Plugin configuration follows Neovim best practices
6. README with installation instructions is provided

## Tasks / Subtasks
- [x] Create repository scaffold per standard plugin layout (lua/, plugin/, doc/)
  - [x] Add `plugin/markdownrun.lua` entry to register commands and setup
  - [x] Add `lua/markdownrun/*.lua` module placeholders
- [x] Provide default `setup()` with sensible config and LazyVim compatibility
- [x] Add packaging docs for LazyVim and Packer with examples
- [x] Verify plugin loads cleanly in headless and interactive Neovim
- [x] Create README covering install, minimal config, and quick start

## Dev Notes
- Repository layout and module boundaries are defined in `docs/architecture.md` section "3. Repository Layout". [Source: architecture.md#3.-Repository-Layout]
- Commands and keymaps to expose are defined under "9. Commands, Keymaps, and Config". [Source: architecture.md#9.-Commands,-Keymaps,-and-Config]
- Non-goals and constraints are summarized in sections "1. Objectives and Constraints" and "14. Security & Safety Notes". [Source: architecture.md#1.-Objectives-and-Constraints] [Source: architecture.md#14.-Security-&-Safety-Notes]

### Testing
- Ensure entry module loads without errors; basic smoke test for command registration. See "13. Testing Strategy". [Source: architecture.md#13.-Testing-Strategy]

## Dev Agent Record

### Agent Model Used
- dev (James)

### Debug Log References
- .ai/debug-log.md

### File List
- `lua/markdownrun/init.lua` (new)
- `lua/markdownrun/commands.lua` (new)
- `plugin/markdownrun.lua` (new)
- `doc/markdownrun.txt` (new)
- `README.md` (updated)

### Completion Notes
- Scaffolded standard Neovim plugin layout (lua/, plugin/, doc/)
- Implemented `setup()` with sensible defaults; registers `:MarkdownRunInfo` and `:MarkdownRunDebug`
- Updated README with lazy.nvim and packer.nvim installation examples
- Headless Neovim smoke test confirms plugin loads and commands exist (info=2, debug=2)

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-08-08 | 0.1 | Initial draft | PO Agent |
| 2025-08-08 | 0.2 | Implemented plugin scaffold, commands, docs; smoke tested | Dev Agent |
