# Story 2.1: Manual Block Execution Mode

Status: Done

## Story
**As a** user,
**I want** to execute the current code block under my cursor,
**so that** I can run specific commands on demand.

## Acceptance Criteria
1. Plugin provides a command/keybinding to execute the current code block
2. Execution only occurs when cursor is within a valid shell code block
3. Plugin displays execution status and results immediately
4. Multiple executions of the same block update the results
5. Plugin maintains execution history for each block
6. User receives clear feedback if no executable block is found at cursor

## Tasks / Subtasks
- [x] Implement `:MarkdownRun` and default keymap
- [x] Validate cursor in runnable block; else notify
- [x] Show transient status (running/success/failure) and popup result
- [x] Append execution to results with `block_id` association

## Dev Notes
- Mode behavior and UI feedback described in "10. Core Flows" and "8. UI & UX Integration". [Source: architecture.md#10.-Core-Flows] [Source: architecture.md#8.-UI-&-UX-Integration]

### Testing
- Integration: invoking command updates indicators and results; error path covered. [Source: architecture.md#13.-Testing-Strategy]

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-08-08 | 0.1 | Initial draft | PO Agent |
| 2025-08-08 | 0.2 | Implemented manual run command, default keymap, and popup results | dev.mdc |
