# Story 3.2: Large Output Management

Status: Done

## Story
**As a** user,
**I want** large command outputs stored in separate files,
**so that** my results file stays manageable while preserving all output data.

## Acceptance Criteria
1. Outputs exceeding 100 lines are automatically saved to separate files
2. Results file contains reference to large output file location
3. Large output files use descriptive naming (timestamp + block identifier)
4. Plugin provides easy navigation to large output files
5. Binary data is detected and saved appropriately
6. Large output files are cleaned up based on configurable retention policy

## Tasks / Subtasks
- [x] Implement artifact directory and file naming
- [x] Detect large outputs and binary content; store to files; write references in JSON
- [ ] Navigation helpers to open artifact files
- [x] Retention policy cleanup

## Dev Notes
- See "7. Results Persistence" for artifacts and retention. [Source: architecture.md#7.-Results-Persistence]

### Testing
- Unit: switching to file storage at threshold; binary detection. Integration: navigation. [Source: architecture.md#13.-Testing-Strategy]

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-08-08 | 0.1 | Initial draft | PO Agent |
| 2025-08-08 | 0.2 | Implemented artifact handling with retention policy | dev.mdc |
